<style>details summary{cursor:pointer;outline:none;margin-bottom:10px;}details summary > *{display:inline;}.categoryheader{font-weight:600;}</style>
[% page = "PLUGIN_DYNAMICPLAYLISTS3" %]
[% PROCESS settings/header.html %]

[% PROCESS plugins/DynamicPlaylists3/settings/subpage_chooser.html %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MAX_NUMBER_OF_UNPLAYED_TRACKS" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MAX_NUMBER_OF_UNPLAYED_TRACKS_DESC" %]
	<input type="text" class="stdedit sliderInput_1_50_1" name="pref_max_number_of_unplayed_tracks" id="max_number_of_unplayed_tracks" value="[% prefs.max_number_of_unplayed_tracks %]" size="2">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MIN_NUMBER_OF_UNPLAYED_TRACKS" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MIN_NUMBER_OF_UNPLAYED_TRACKS_DESC" %]
	<input type="text" class="stdedit sliderInput_1_10_1" name="pref_min_number_of_unplayed_tracks" id="min_number_of_unplayed_tracks" value="[% prefs.min_number_of_unplayed_tracks %]" size="2">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_NUMBER_OF_PLAYED_TRACKS_TO_KEEP" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_NUMBER_OF_PLAYED_TRACKS_TO_KEEP_DESC" %]
	<input type="text" class="stdedit sliderInput_0_100_1" name="pref_number_of_played_tracks_to_keep" id="number_of_played_tracks_to_keep" value="[% prefs.number_of_played_tracks_to_keep %]" size="2">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SONG_ADDING_CHECK_DELAY" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SONG_ADDING_CHECK_DELAY_DESC" %]
	<input type="text" class="stdedit sliderInput_1_60_1" name="pref_song_adding_check_delay" id="song_adding_check_delay" value="[% prefs.song_adding_check_delay %]" size="2"> [% "PLUGIN_DYNAMICPLAYLISTS3_LANGSTRINGS_SECS" | string %]
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MIN_TRACK_DURATION" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MIN_TRACK_DURATION_DESC" %]
	<input type="text" class="stdedit sliderInput_1_1800_1" name="pref_song_min_duration" id="song_min_duration" value="[% prefs.song_min_duration %]" size="2"> [% "PLUGIN_DYNAMICPLAYLISTS3_LANGSTRINGS_SECS" | string %]
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_TOPRATED_MINRATING" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_TOPRATED_MINRATING_DESC" %]
	<select name="pref_toprated_min_rating" id="toprated_min_rating">
		[% FOREACH ratingvalue = [60,70,80,90,100] %]
			<option [% IF prefs.toprated_min_rating == ratingvalue %]selected='selected' [% END %]value="[% ratingvalue %]">[% ratingvalue / 20 %]</option>
		[% END %]
	</select> [% "PLUGIN_DYNAMICPLAYLISTS3_LANGSTRINGS_STARS" | string %]
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DISABLEEXTRASHUFFLE" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DISABLEEXTRASHUFFLE_DESC" %]
	<input name="pref_disableextrashuffle" id="disableextrashuffle" type="checkbox" [% IF prefs.disableextrashuffle %] checked [% END %]>
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_PERIOD_PLAYEDLONGAGO" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_PERIOD_PLAYEDLONGAGO_DESC" %]
	<input type="text" class="stdedit sliderInput_1_20_1" name="pref_period_playedlongago" id="period_playedlongago" value="[% prefs.period_playedlongago %]" size="2"> [% "PLUGIN_DYNAMICPLAYLISTS3_LANGSTRINGS_YEARS" | string %]
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MINTRACKS_ARTIST" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MINTRACKS_ARTIST_DESC" %]
	<input type="text" class="stdedit sliderInput_1_10_1" name="pref_minartisttracks" id="minartisttracks" value="[% prefs.minartisttracks %]" size="2">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MINTRACKS_ALBUM" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_MINTRACKS_ALBUM_DESC" %]
	<input type="text" class="stdedit sliderInput_1_10_1" name="pref_minalbumtracks" id="minalbumtracks" value="[% prefs.minalbumtracks %]" size="2">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SHOWTIMEPERCHAR" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SHOWTIMEPERCHAR_DESC" %]
	<input type="text" class="stdedit sliderInput_1_100_10" name="pref_showtimeperchar" id="showtimeperchar" value="[% prefs.showtimeperchar %]" size="3"> [% "SETTINGS_PLUGIN_TESTPLUGIN_TIMEMILLISECS" | string %]
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DSTM_STARTINDEX" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DSTM_STARTINDEX_DESC" %]
	<select name="pref_dstmstartindex">
		<option value="1" [% IF prefs.dstmstartindex %]selected[% END %]>[% "SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DSTM_STARTINDEX_FIRST" | string %]</option>
		<option value="0" [% IF NOT prefs.dstmstartindex %]selected[% END %]>[% "SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_DSTM_STARTINDEX_LAST" | string %]</option>
	</select>
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_REMEMBERACTIVEPLAYLIST" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_REMEMBERACTIVEPLAYLIST_DESC" %]
	<input name="pref_rememberactiveplaylist" id="rememberactiveplaylist" type="checkbox" [% IF prefs.rememberactiveplaylist %]checked="checked" [% END %] value="1" class="stdedit">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SHOWACTIVEPLAYLISTINMAINMENU" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_SHOWACTIVEPLAYLISTINMAINMENU_DESC" %]
	<input name="pref_showactiveplaylistinmainmenu" id="showactiveplaylistinmainmenu" type="checkbox" [% IF prefs.showactiveplaylistinmainmenu %]checked="checked" [% END %] value="1" class="stdedit">
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_GROUPCUSTOMPLAYLISTS" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_GROUPCUSTOMPLAYLISTS_DESC" %]
	<input name="pref_groupunclassifiedcustomplaylists" id="groupunclassifiedcustomplaylists" type="checkbox" [% IF prefs.groupunclassifiedcustomplaylists %]checked="checked" [% END %] value="1" class="stdedit">
[% END %]
<br>

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_CUSTOMDIRPARENTFOLDERPATH" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_CUSTOMDIRPARENTFOLDERPATH_DESC" %]
	<input type="text" class="stdedit selectFolder" name="pref_customdirparentfolderpath" id="customdirparentfolderpath" value="[% prefs.customdirparentfolderpath %]" size="40">
[% END %]
<br>

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_INCLUDESAVEDPLAYLISTS" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_INCLUDESAVEDPLAYLISTS_DESC" %]
	<input name="pref_includesavedplaylists" id="includesavedplaylists" type="checkbox" [% IF prefs.includesavedplaylists %] checked [% END %]>
[% END %]

[% WRAPPER setting title="PLUGIN_RATINGSLIGHT_MENUS_SHOW_RATED_TRACKS_MENUS" desc="PLUGIN_RATINGSLIGHT_MENUS_SHOW_RATED_TRACKS_MENUS_DESC" %]
	<select name="pref_randomsavedplaylists" id="randomsavedplaylists">
		[% FOREACH option = {
			'1' => 'PLUGIN_DYNAMICPLAYLISTS3_SETTINGS_RANDOM',
			'0' => 'PLUGIN_DYNAMICPLAYLISTS3_SETTINGS_ORDERED',
		} %]
		<option [% IF prefs.randomsavedplaylists == option.key %]selected='selected' [% END %]value="[% option.key %]">[% option.value | string %]</option>
		[%- END -%]
	</select>
[% END %]

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_STRUCTURED_SAVEDPLAYLISTS" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_STRUCTURED_SAVEDPLAYLISTS_DESC" %]
	<input name="pref_structured_savedplaylists" id="structured_savedplaylists" type="checkbox" [% IF prefs.structured_savedplaylists %] checked [% END %]>
[% END %]
<br>

[% WRAPPER setting title="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_EXCLUDEDGENRES" desc="SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_EXCLUDEDGENRES_DESC" %]
<details><summary><span class="categoryheader">[% "SETTINGS_PLUGIN_DYNAMICPLAYLISTS3_CHOOSEEXLUDEGENRES" | string %]</span>:</summary>
	<table border="0" width="100%">[% USE table genrelistsorted, cols=3, pad=0 %]
		[%- FOREACH genrerow = table.rows %]
			<tr>
				[%- FOREACH genre = genrerow %]
				[%- genreid = "genre_" _ genrelist.item("$genre").id %]
				<td>
					<input type="checkbox" name="[% genreid %]" id="[% genreid %]" value="1" [% genrelist.item("$genre").chosen ? "checked" : "" %]>
					<label style="font-weight: normal;" for="[% genreid %]">[% genrelist.item("$genre").name | html %]</label>
				</td>
				[%- END %]
			</tr>
		[%- END %]
	</table>
</details>
[% END %]

[% PROCESS settings/footer.html %]
